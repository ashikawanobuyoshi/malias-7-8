{"version":3,"file":"_id_-NKEhYsoi.js","sources":["../../../../stores/favorites.ts","../../../../utils/jsonUtils.ts","../../../../pages/product-details/[id].vue"],"sourcesContent":["// stores/favorites.ts\r\nimport { defineStore } from 'pinia'\r\n\r\n// stores/favorites.ts\r\nexport interface FavoriteImage {\r\n  fileName: string;\r\n  url: string;\r\n}\r\n\r\nexport const useFavoritesStore = defineStore('favorites', {\r\n  state: () => ({\r\n    favoriteImages: [] as FavoriteImage[],\r\n  }),\r\n  actions: {\r\n    addFavorite(image: FavoriteImage) {\r\n      this.favoriteImages.push(image);\r\n    },\r\n    removeFavorite(index: number) {\r\n      this.favoriteImages.splice(index, 1);\r\n    }\r\n  },\r\n  persist: true\r\n});\r\n\r\n\r\n","export function serializeJson(data: any): string {\r\n  try {\r\n    return JSON.stringify(data);\r\n  } catch (error) {\r\n    console.error(\"„Ç∑„É™„Ç¢„É©„Ç§„Ç∫„Ç®„É©„Éº:\", error);\r\n    return \"[]\";\r\n  }\r\n}\r\n\r\nexport function deserializeJson(jsonString: string): any {\r\n  try {\r\n    return JSON.parse(jsonString);\r\n  } catch (error) {\r\n    console.error(\"„Éá„Ç∑„É™„Ç¢„É©„Ç§„Ç∫„Ç®„É©„Éº:\", error);\r\n    return [];\r\n  }\r\n}","<template>\r\n  <div v-if=\"product\">\r\n    <h1>{{ product.productName }}</h1>\r\n    <p>{{ product.description }}</p>\r\n  </div>\r\n  <div v-else>\r\n    <p>ÂïÜÂìÅÊÉÖÂ†±„ÇíË™≠„ÅøËæº„Åø‰∏≠„Åß„Åô...</p>\r\n  </div>\r\n  <main class=\"pb-24\">\r\n    <div class=\"p-4 space-y-6\">\r\n      <!-- Êàª„Çã„Éú„Çø„É≥ -->\r\n      <button @click=\"handleGoBack\" class=\"px-4 py-2 bg-gray-200 rounded\">\r\n        ‚Üê Êàª„Çã\r\n      </button>\r\n\r\n      <!-- ÂïÜÂìÅË©≥Á¥∞ -->\r\n      <div v-if=\"plainProduct\" class=\"space-y-4\">\r\n        <h2 class=\"text-2xl font-bold\">{{ plainProduct.productName }}</h2>\r\n        <img :src=\"plainProduct.src\" alt=\"\" class=\"w-full max-w-sm rounded\" />\r\n        <p class=\"whitespace-pre-line\">{{ plainProduct.description }}</p>\r\n      </div>\r\n\r\n      <!-- „ÅäÊ∞ó„Å´ÂÖ•„ÇäÁîªÂÉè‰∏ÄË¶ß -->\r\n      <div class=\"favorites-gallery\">\r\n        <h3 class=\"text-xl font-semibold mb-4 text-gray-800 border-b pb-2\">\r\n          üì∑ „ÅäÊ∞ó„Å´ÂÖ•„ÇäÁîªÂÉè‰∏ÄË¶ß\r\n        </h3>\r\n\r\n        <div\r\n          v-if=\"favoritesStore.favoriteImages.length === 0\"\r\n          class=\"text-gray-600\"\r\n        >\r\n          „ÅäÊ∞ó„Å´ÂÖ•„ÇäÁîªÂÉè„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì\r\n        </div>\r\n\r\n        <!-- ÁîªÂÉè„Åå„ÅÇ„Çã„Å®„Åç -->\r\n        <div v-else class=\"favorites-list flex flex-wrap gap-4\">\r\n          <div\r\n            v-for=\"(favImg, index) in favoritesStore.favoriteImages\"\r\n            :key=\"index\"\r\n            class=\"favorite-item border p-4 rounded shadow-sm w-60 flex flex-col items-center bg-white\"\r\n          >\r\n            <!-- ÁîªÂÉèË°®Á§∫ -->\r\n            <div\r\n              class=\"w-40 h-40 flex items-center justify-center bg-gray-50 rounded mb-3 border\"\r\n            >\r\n              <img\r\n                :src=\"favImg.url\"\r\n                alt=\"„ÅäÊ∞ó„Å´ÂÖ•„ÇäÁîªÂÉè\"\r\n                class=\"max-w-full h-auto object-contain rounded border\"\r\n              />\r\n            </div>\r\n\r\n            <!-- „Éï„Ç°„Ç§„É´Âêç -->\r\n            <p\r\n              class=\"font-medium mb-2 text-center break-words w-full text-gray-700\"\r\n            >\r\n              „Éï„Ç°„Ç§„É´Âêç: {{ favImg.fileName }}\r\n            </p>\r\n\r\n            <!-- ÂïÜÂìÅID„Åå1„ÅÆ„Å®„Åç„ÅÆ„ÅøË°®Á§∫„Åï„Çå„ÇãÊ≥®Êñá„Éï„Ç©„Éº„É† -->\r\n            <div v-if=\"productId === '1'\" class=\"w-full\">\r\n              <!-- „Éó„É™„É≥„ÉàÁ®ÆÈ°û„Çª„É¨„ÇØ„Çø„Éº -->\r\n              <label class=\"block mb-2 w-full text-sm text-gray-700\">\r\n                <span class=\"block mb-1 font-semibold\">„Éó„É™„É≥„ÉàÁ®ÆÈ°û:</span>\r\n                <select\r\n                  v-model=\"favImg.selectedType\"\r\n                  class=\"border rounded px-2 py-1 w-full\"\r\n                >\r\n                  <option disabled value=\"\">ÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ</option>\r\n                  <option value=\"Âõõ„Å§Âàá\">Âõõ„Å§Âàá</option>\r\n                  <option value=\"ÂÖ≠Âàá„Çä\">ÂÖ≠Âàá„Çä</option>\r\n                  <option value=\"„Ç≠„É£„Éì„Éç\">„Ç≠„É£„Éì„Éç</option>\r\n                  <option value=\"ÊâãÊú≠\">ÊâãÊú≠</option>\r\n                </select>\r\n              </label>\r\n\r\n              <!-- ÊûöÊï∞ÂÖ•Âäõ -->\r\n              <label class=\"block mb-2 w-full text-sm text-gray-700\">\r\n                <span class=\"block mb-1 font-semibold\">ÊûöÊï∞:</span>\r\n                <input\r\n                  type=\"number\"\r\n                  v-model.number=\"favImg.quantity\"\r\n                  min=\"1\"\r\n                  class=\"border rounded px-2 py-1 w-full\"\r\n                />\r\n              </label>\r\n\r\n              <!-- Â∞èË®à -->\r\n              <p class=\"mt-2 font-semibold text-gray-800 text-center w-full\">\r\n                Â∞èË®à: ¬•{{\r\n                  calculatePrice(\r\n                    favImg.selectedType,\r\n                    favImg.quantity\r\n                  ).toLocaleString()\r\n                }}\r\n              </p>\r\n\r\n              <!-- Ê≥®Êñá„Éú„Çø„É≥ -->\r\n              <button\r\n                class=\"mt-3 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 w-full\"\r\n                @click=\"orderImage(favImg)\"\r\n              >\r\n                Ê≥®Êñá„Åô„Çã\r\n              </button>\r\n            </div>\r\n\r\n            <!-- ÂâäÈô§„Éú„Çø„É≥ -->\r\n            <button\r\n              @click=\"removeFavorite(index)\"\r\n              class=\"text-red-600 font-bold text-xl mt-4\"\r\n              title=\"ÂâäÈô§\"\r\n            >\r\n              √ó\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- ËøΩÂä†„Ç™„Éó„Ç∑„Éß„É≥ -->\r\n      <div>\r\n        <h3 class=\"text-lg font-semibold mt-6\">„Ç™„Éó„Ç∑„Éß„É≥ÈÅ∏Êäû</h3>\r\n\r\n        <!-- 2Âàó„ÅÆ„Ç∞„É™„ÉÉ„Éâ -->\r\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\">\r\n          <div\r\n            v-for=\"(item, index) in additionalItems\"\r\n            :key=\"index\"\r\n            class=\"flex items-center border p-2 rounded shadow-sm bg-white\"\r\n          >\r\n            <!-- Â∑¶: ÁîªÂÉè -->\r\n            <img\r\n              v-if=\"item.image\"\r\n              :src=\"item.image\"\r\n              alt=\"„Ç™„Éó„Ç∑„Éß„É≥ÁîªÂÉè\"\r\n              class=\"w-20 h-20 object-contain mr-4\"\r\n            />\r\n\r\n            <!-- Âè≥: „ÉÅ„Çß„ÉÉ„ÇØ„Éú„ÉÉ„ÇØ„Çπ„Å®Ë™¨Êòé -->\r\n            <div class=\"flex-1\">\r\n              <label class=\"flex items-start\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  v-model=\"item.selected\"\r\n                  class=\"mr-2 mt-1\"\r\n                  @change=\"onSelectChange(item)\"\r\n                />\r\n                <span class=\"font-medium text-gray-800\">\r\n                  {{ item.name }}Ôºà+¬•{{ item.price.toLocaleString() }}Ôºâ\r\n                </span>\r\n              </label>\r\n\r\n              <!-- Ë™¨ÊòéÊñá -->\r\n              <p\r\n                v-if=\"item.description\"\r\n                class=\"text-sm text-gray-600 mt-1\"\r\n                v-html=\"item.description\"\r\n              ></p>\r\n\r\n              <!-- ‚úÖ Êï∞ÈáèÂÖ•ÂäõÔºàÈÅ∏Êäû„Åï„Çå„ÅüÂ†¥Âêà„ÅÆ„ÅøË°®Á§∫Ôºâ -->\r\n              <div\r\n                v-if=\"item.selected\"\r\n                class=\"mt-2 flex items-center space-x-2\"\r\n              >\r\n                <button\r\n                  class=\"px-2 py-1 bg-gray-200 rounded\"\r\n                  @click=\"decreaseQuantity(item)\"\r\n                >\r\n                  Ôºç\r\n                </button>\r\n\r\n                <input\r\n                  type=\"number\"\r\n                  v-model.number=\"item.quantity\"\r\n                  min=\"1\"\r\n                  class=\"w-16 text-center border rounded\"\r\n                />\r\n\r\n                <button\r\n                  class=\"px-2 py-1 bg-gray-200 rounded\"\r\n                  @click=\"increaseQuantity(item)\"\r\n                >\r\n                  Ôºã\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- „Ç´„Çπ„Çø„É†„Ç¢„Ç§„ÉÜ„É†ÂÖ•ÂäõÊ¨Ñ -->\r\n        <div class=\"space-y-4 border p-4 rounded bg-gray-50\">\r\n          <div>\r\n            <label class=\"block text-sm font-medium mb-1\">„Éï„Ç°„Ç§„É´Âêç</label>\r\n            <input\r\n              v-model=\"newCustomItem.fileName\"\r\n              placeholder=\"‰æã: custom.jpg\"\r\n              class=\"border p-2 w-full rounded\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label class=\"block text-sm font-medium mb-1\">ÂêçÂâç</label>\r\n            <input\r\n              v-model=\"newCustomItem.name\"\r\n              placeholder=\"‰æã: ÁâπÊ≥®„Ç¢„É´„Éê„É†\"\r\n              class=\"border p-2 w-full rounded\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label class=\"block text-sm font-medium mb-1\">‰æ°Ê†ºÔºàÂÜÜÔºâ</label>\r\n            <input\r\n              type=\"number\"\r\n              v-model.number=\"newCustomItem.price\"\r\n              placeholder=\"‰æã: 12000\"\r\n              class=\"border p-2 w-full rounded\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label class=\"block text-sm font-medium mb-1\">Êï∞Èáè</label>\r\n            <input\r\n              type=\"number\"\r\n              v-model.number=\"newCustomItem.quantity\"\r\n              placeholder=\"1\"\r\n              min=\"1\"\r\n              class=\"border p-2 w-full rounded\"\r\n            />\r\n          </div>\r\n\r\n          <button\r\n            @click=\"addCustomItem\"\r\n            class=\"px-4 py-2 bg-blue-600 text-white rounded\"\r\n          >\r\n            „Ç´„Çπ„Çø„É†„Ç¢„Ç§„ÉÜ„É†„ÇíËøΩÂä†\r\n          </button>\r\n        </div>\r\n\r\n        <!-- ‚úÖ ËøΩÂä†Ê∏à„Åø„Ç™„Éó„Ç∑„Éß„É≥Ë°®Á§∫ -->\r\n        <div v-if=\"selectedAdditionalItems.length > 0\" class=\"mt-4 space-y-2\">\r\n          <h4 class=\"text-lg font-semibold\">ËøΩÂä†Ê∏à„Åø„Ç™„Éó„Ç∑„Éß„É≥</h4>\r\n          <div\r\n            v-for=\"(item, index) in selectedAdditionalItems\"\r\n            :key=\"index\"\r\n            class=\"border p-2 rounded flex justify-between items-center\"\r\n          >\r\n            <div>\r\n              {{ item.name }} - ¬•{{ item.price.toLocaleString() }} √ó\r\n              {{ item.quantity }}\r\n            </div>\r\n            <button\r\n              @click=\"\r\n                () => {\r\n                  item.selected = false;\r\n                  item.quantity = 0;\r\n                }\r\n              \"\r\n              class=\"text-red-600 underline\"\r\n            >\r\n              ÂâäÈô§\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- ÁôªÈå≤Ê∏à„Åø„Ç´„Çπ„Çø„É†„Ç¢„Ç§„ÉÜ„É†‰∏ÄË¶ß -->\r\n        <div v-if=\"customItems.length > 0\" class=\"mt-4 space-y-2\">\r\n          <h4 class=\"text-lg font-semibold\">ËøΩÂä†Ê∏à„Åø„Ç¢„Ç§„ÉÜ„É†</h4>\r\n          <div\r\n            v-for=\"(item, index) in customItems\"\r\n            :key=\"index\"\r\n            class=\"border p-2 rounded flex justify-between items-center\"\r\n          >\r\n            <div>\r\n              {{ item.fileName || item.name }} - ¬•{{\r\n                item.price.toLocaleString()\r\n              }}\r\n              √ó {{ item.quantity }}\r\n            </div>\r\n            <button\r\n              @click=\"customItems.splice(index, 1)\"\r\n              class=\"text-red-600 underline\"\r\n            >\r\n              ÂâäÈô§\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- ÂêàË®àÈáëÈ°ç -->\r\n      <div>\r\n        <p>ÂêàË®àÈáëÈ°çÔºàÁ®éÊäúÔºâÔºö¬•{{ totalPrice.toLocaleString() }}</p>\r\n        <p class=\"font-bold\">\r\n          ÂêàË®àÈáëÈ°çÔºàÁ®éËæºÔºâÔºö¬•{{ totalPriceWithTax.toLocaleString() }}\r\n        </p>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Ê≥®Êñá„Éï„Ç©„Éº„É† -->\r\n    <div class=\"space-y-2 pb-32\">\r\n      <h3 class=\"text-xl font-semibold\">„ÅäÂÆ¢ÊßòÊÉÖÂ†±</h3>\r\n\r\n      <input\r\n        v-model=\"form.customerName\"\r\n        placeholder=\"„ÅäÂêçÂâçÔºàÂøÖÈ†àÔºâ\"\r\n        class=\"w-full border p-2 rounded\"\r\n        :class=\"{ 'border-red-500': !form.customerName && formTouched }\"\r\n      />\r\n\r\n      <input\r\n        v-model=\"form.email\"\r\n        placeholder=\"„É°„Éº„É´„Ç¢„Éâ„É¨„ÇπÔºàÂøÖÈ†àÔºâ\"\r\n        class=\"w-full border p-2 rounded\"\r\n        :class=\"{\r\n          'border-red-500':\r\n            (!form.email || !emailRegex.test(form.email)) && formTouched,\r\n        }\"\r\n      />\r\n\r\n      <textarea\r\n        v-model=\"form.comment\"\r\n        placeholder=\"ÂÇôËÄÉÔºà‰æãÔºö„ÅäÂÜôÁúü„ÅÆË≤º„ÇãÈ†ÜÁï™ 1:Â∑¶ 2:‰∏≠Â§Æ 3:Âè≥Ôºâ\"\r\n        class=\"w-full border p-2 rounded h-24\"\r\n      ></textarea>\r\n\r\n      <p v-if=\"success\" class=\"text-green-600 font-semibold\">\r\n        „ÅîÊ≥®Êñá„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åó„ÅüÔºÅÁ¢∫Ë™ç„É°„Éº„É´„ÇíÈÄÅ‰ø°„Åó„Åæ„Åó„Åü„ÄÇ\r\n      </p>\r\n      <p v-if=\"error\" class=\"text-red-600 font-semibold\">\r\n        {{ error }}\r\n      </p>\r\n    </div>\r\n  </main>\r\n\r\n  <!-- Ê≥®Êñá„Éú„Çø„É≥„ÇíÁîªÈù¢‰∏ã„Å´Âõ∫ÂÆö -->\r\n  <div\r\n    class=\"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 z-50\"\r\n  >\r\n    <button\r\n      @click=\"submitOrder\"\r\n      :disabled=\"isSubmitting\"\r\n      class=\"w-full px-4 py-3 bg-green-500 text-white rounded-lg font-semibold text-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n    >\r\n      {{ isSubmitting ? \"ÈÄÅ‰ø°‰∏≠...\" : \"Ê≥®Êñá„ÇíÁ¢∫ÂÆö„Åô„Çã\" }}\r\n    </button>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, computed, watch } from \"vue\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nimport { useAsyncData } from \"#app\";\r\nimport { useFavoritesStore } from \"~/stores/favorites\";\r\nimport type { OptionItem } from \"~/types/OptionItem\";\r\nimport type { CustomItem } from \"~/types/CustomItem\";\r\n\r\n// -------------------- „É´„Éº„ÉàÔºÜ„É´„Éº„Çø„Éº --------------------\r\nconst route = useRoute();\r\nconst router = useRouter();\r\nconst isSubmitting = ref(false);\r\nconst productId = computed(() => route.params.id?.toString() ?? \"\");\r\n\r\nwatchEffect(() => {\r\n  console.log(\"üß™ typeof productId:\", typeof productId);         // ‚Üí objectÔºàcomputed„ÅÆÂûãÔºâ\r\n  console.log(\"üß™ typeof productId.value:\", typeof productId.value); // ‚Üí string „Åæ„Åü„ÅØ undefined\r\n  console.log(\"üß™ productId.value:\", productId.value);\r\n  if (!productId.value || productId.value === \"undefined\") {\r\n    console.warn(\"Invalid product ID:\", productId.value);\r\n    router.replace(\"/\");\r\n  }\r\n});\r\n// -------------------- ÂïÜÂìÅID --------------------\r\n\r\nconsole.log(\"Product ID:\", productId.value);\r\n\r\n// -------------------- ÂïÜÂìÅÊÉÖÂ†± --------------------\r\nconst { data: product } = await useAsyncData(\"product\", () => {\r\n  const id = String(route.params.id ?? \"\");\r\n  return $fetch(`/api/products/${id}`);\r\n});\r\n\r\n// -------------------- Êàª„Çã„Éú„Çø„É≥ --------------------\r\nconst handleGoBack = () => {\r\n  if (window.history.length > 1) {\r\n    router.back();\r\n  } else {\r\n    router.push(\"/\"); // or a fallback route\r\n  }\r\n};\r\n\r\n// -------------------- „Çπ„Éà„Ç¢„Å®„Ç´„Çπ„Çø„É†È†ÖÁõÆ --------------------\r\nconst favoritesStore = useFavoritesStore();\r\nconst additionalItems = ref<OptionItem[]>([]);\r\nconst customItems = ref<CustomItem[]>([]);\r\n\r\n// -------------------- „Éó„É¨„Éº„É≥ÂïÜÂìÅÔºàÂàùÊúüÂÄ§Ôºâ --------------------\r\nconst plainProduct = ref({ name: \"ÂïÜÂìÅÂêç\", price: 0 });\r\n\r\n// -------------------- „É´„Éº„ÉàÂ§âÊõ¥ÊôÇ„ÇÑÂàùÊúüË°®Á§∫ÊôÇ„ÅÆ„Éï„Çß„ÉÉ„ÉÅ --------------------\r\nwatch(\r\n  () => productId.value,\r\n  async (newId) => {\r\n    if (!newId) {\r\n      console.warn(\"productId is undefined or empty. Fetch skipped.\");\r\n      return;\r\n    }\r\n\r\n console.log(\"üß™ FetchÂØæË±°„ÅÆ productId:\", newId); // ‚Üê ËøΩÂä†\r\n\r\n\r\n    try {\r\n      const res = await $fetch(`/api/print-options?productId=${newId}`);\r\n       console.log(\"üì¶ print-options API„É¨„Çπ„Éù„É≥„Çπ:\", res); // ‚Üê „É¨„Çπ„Éù„É≥„ÇπÁ¢∫Ë™ç\r\n\r\n      additionalItems.value = res.map((item: any) => ({\r\n        ...item,\r\n        selected: false,\r\n        quantity: 0,\r\n      }));\r\n    } catch (error) {\r\n      console.error(\"‚ùå print-options „ÅÆÂèñÂæó„Å´Â§±Êïó:\", error);\r\n    }\r\n  },\r\n  { immediate: true }\r\n);\r\n\r\n// -------------------- ÂûãÂÆöÁæ© --------------------\r\ninterface Product {\r\n  id: number;\r\n  src: string;\r\n  productName: string;\r\n  description: string;\r\n  price: string;\r\n}\r\ninterface CustomItem {\r\n  name: string;\r\n  price: number;\r\n  quantity: number;\r\n}\r\ninterface PrintOption {\r\n  id: number;\r\n  label: string;\r\n  value: string;\r\n}\r\ninterface FavoriteImage {\r\n  fileName: string;\r\n  url: string;\r\n  selectedType?: string;\r\n  selectedSize?: string;\r\n  quantity?: number;\r\n}\r\ninterface OptionItem {\r\n  id: number;\r\n  label: string;\r\n  value: string;\r\n  price: number;\r\n  selected?: boolean; // ‚úÖ ‚Üê „Åì„Çå„ÅåÂøÖË¶Å\r\n}\r\n// -------------------- „Éá„Éº„Çø --------------------\r\nconst products: Product[] = [\r\n  {\r\n    src: \"/option-images/print/printo_nomi.jpg\",\r\n    productName: \"„Éó„É™„É≥„Éà\",\r\n    description: `„Çµ„Ç§„Ç∫\r\nÂõõÂàá„Çä„Éó„É™„É≥„Éà 254„éú√ó305„éú\r\nÂÖ≠Âàá„Çä„Éó„É™„É≥„Éà 205„éú√ó254„éú\r\n„Ç≠„É£„Éì„Éç„Éó„É™„É≥„Éà 180„éú√ó127„éú\r\nÊâãÊú≠„Éó„É™„É≥„Éà 127„éú√ó89„éú\r\n\r\nÂõõÂàá„Çä„Éó„É™„É≥„Éà 5,800 ÂÜÜÔºà6,380 ÂÜÜ Á®éËæºÔºâ\r\nÂÖ≠Âàá„Çä„Éó„É™„É≥„Éà 4,800 ÂÜÜÔºà5,280 ÂÜÜ Á®éËæºÔºâ\r\n„Ç≠„É£„Éì„Éç„Éó„É™„É≥„Éà 3,800 ÂÜÜÔºà4,180 ÂÜÜ Á®éËæºÔºâ\r\nÊâãÊú≠„Éó„É™„É≥„Éà 3,500 ÂÜÜÔºà3,850 ÂÜÜ Á®éËæºÔºâ`,\r\n    productId: 1,\r\n  },\r\n  {\r\n    src: \"/option-images/print/cd_puran.jpg\",\r\n    description: `CD„Éó„É©„É≥\r\n\r\nCD‰∏â‰∏á„Éó„É©„É≥\r\n32,780 ÂÜÜÔºà36,080 ÂÜÜ Á®éËæºÔºâ\r\n\r\nCD‰∫î‰∏á„Éó„É©„É≥\r\n49,800 ÂÜÜÔºà54,780 ÂÜÜ Á®éËæºÔºâ\r\n\r\nCD‰∏É‰∏á„Éó„É©„É≥\r\n69,800 ÂÜÜÔºà76,780 ÂÜÜ Á®éËæºÔºâ`,\r\n    productId: 2,\r\n  },\r\n  {\r\n    src: \"/option-images/print/photo_collection.jpg\",\r\n    description: `Ôºä„Éá„Ç∂„Ç§„É≥„Ç¢„É´„Éê„É†\r\n6P(24„Ç´„ÉÉ„Éà)ÔºãCDÂéüÊú¨Ôºù49,800ÂÜÜÔºà54,780ÂÜÜ Á®éËæºÔºâ\r\nÔºäÁµµÊú¨BOOK\r\n4PÔºà6„Ç´„ÉÉ„ÉàÔºâÔºãCDÂéüÊú¨Ôºù34,800ÂÜÜÔºà38,280ÂÜÜ Á®éËæºÔºâ\r\nÔºä„Éó„É¨„Éü„Ç¢„É†„Éá„Ç∂„Ç§„É≥„Ç¢„É´„Éê„É†\r\n6P(24„Ç´„ÉÉ„Éà)ÔºãCDÂéüÊú¨Ôºù49,800ÂÜÜÔºà54,780ÂÜÜ Á®éËæºÔºâ`,\r\n    productId: 3,\r\n  },\r\n  {\r\n    src: \"/option-images/print/6tsugiri_3.jpg\",\r\n    description: `„ÅäÂÆÆÂèÇ„Çä„Éó„É©„É≥\r\nÔºä„ÅäÂÆÆÂèÇ„Çä„Éó„É©„É≥ÔºöA\r\n49,800ÂÜÜÔºà54,780ÂÜÜ Á®éËæºÔºâ\r\nÔºä„ÅäÂÆÆÂèÇ„Çä„Éó„É©„É≥ÔºöB\r\n65,000ÂÜÜÔºà71,500ÂÜÜ Á®éËæºÔºâ\r\nÔºä„ÅäÂÆÆÂèÇ„Çä„Éó„É©„É≥ÔºöC\r\n32,100ÂÜÜÔºà35,310ÂÜÜ Á®éËæºÔºâ\r\nÔºä„ÅäÂÆÆÂèÇ„Çä„Éó„É©„É≥ÔºöD\r\n50,000ÂÜÜÔºà55,000ÂÜÜ Á®éËæºÔºâ\r\nÔºä„ÅäÂÆÆÂèÇ„Çä„Éó„É©„É≥ÔºöE\r\n54,800ÂÜÜÔºà60,280ÂÜÜ Á®éËæºÔºâ\r\nÔºä„ÅäÂÆÆÂèÇ„Çä„Éó„É©„É≥ÔºöF\r\n60,000ÂÜÜÔºà66,000ÂÜÜ Á®éËæºÔºâ\r\nÔºä„ÅäÂÆÆÂèÇ„Çä„Éó„É©„É≥Ôºö„Çπ„Éö„Ç∑„É£„É´„Çª„ÉÉ„Éà\r\n80,000ÂÜÜÔºà88,000ÂÜÜ Á®éËæºÔºâ`,\r\n    productId: 4,\r\n  },\r\n  {\r\n    src: \"/option-images/print/4tsugiri_3.jpg\",\r\n    description: `‰∏É‰∫î‰∏âÔº£Ôº§„Çª„ÉÉ„Éà„Éó„É©„É≥\r\nÔºä‰∏É‰∫î‰∏âÔº£Ôº§„Éó„É©„É≥ÔºöA\r\n32,800 ÂÜÜÔºà36,080ÂÜÜÔºâ\r\nÔºä‰∏É‰∫î‰∏âÔº£Ôº§„Éó„É©„É≥ÔºöB\r\n49,800 ÂÜÜÔºà54,780ÂÜÜÔºâ\r\nÔºä‰∏É‰∫î‰∏âÔº£Ôº§„Éó„É©„É≥ÔºöC\r\n69,800 ÂÜÜÔºà76,780ÂÜÜÔºâÔºâ`,\r\n    productId: 5,\r\n  },\r\n  {\r\n    src: \"/option-images/print/6tsugiri_3.jpg\",\r\n    description: `ÂÖ≠„Å§Âàá„Çä„Éó„É™„É≥„Éà\r\nÔºä„Éó„É™„É≥„ÉàÊñôÈáë 4,800 ÂÜÜÔºà5,280 ÂÜÜ Á®éËæºÔºâ\r\nÔºäÁ¥ôÂè∞Á¥ô‰ªò„Éó„É™„É≥„ÉàÊñôÈáë 6,800 ÂÜÜÔºà7,480 ÂÜÜ Á®éËæºÔºâ`,\r\n    style: { width: \"170px\", height: \"auto\" },\r\n    productId: 6,\r\n  },\r\n  {\r\n    src: \"/option-images/print/4tsugiri_3.jpg\",\r\n    description: `Âõõ„Å§Âàá„Çä„Éó„É™„É≥„Éà\r\nÔºä„Éó„É™„É≥„ÉàÊñôÈáë 5,800 ÂÜÜÔºà6,380 ÂÜÜ Á®éËæºÔºâ\r\nÔºäÁ¥ôÂè∞Á¥ô‰ªò„Éó„É™„É≥„ÉàÊñôÈáë 7,800 ÂÜÜÔºà8,580 ÂÜÜ Á®éËæºÔºâ\r\nÔºäÈ°ç‰ªò„Éó„É™„É≥„ÉàÊñôÈáë 8,550 ÂÜÜÔºà9,405 ÂÜÜ Á®éËæºÔºâ`,\r\n    productId: 7,\r\n  },\r\n  {\r\n    src: \"/option-images/print/6tsugiri_3.jpg\",\r\n    description: `ÂÖ≠„Å§Âàá„Çä„Éó„É™„É≥„Éà\r\nÔºä„Éó„É™„É≥„ÉàÊñôÈáë 4,800 ÂÜÜÔºà5,280 ÂÜÜ Á®éËæºÔºâ\r\nÔºäÁ¥ôÂè∞Á¥ô‰ªò„Éó„É™„É≥„ÉàÊñôÈáë 6,800 ÂÜÜÔºà7,480 ÂÜÜ Á®éËæºÔºâ`,\r\n    style: { width: \"170px\", height: \"auto\" },\r\n    productId: 8,\r\n  },\r\n  {\r\n    src: \"/option-images/print/4tsugiri_3.jpg\",\r\n    description: `Âõõ„Å§Âàá„Çä„Éó„É™„É≥„Éà\r\nÔºä„Éó„É™„É≥„ÉàÊñôÈáë 5,800 ÂÜÜÔºà6,380 ÂÜÜ Á®éËæºÔºâ\r\nÔºäÁ¥ôÂè∞Á¥ô‰ªò„Éó„É™„É≥„ÉàÊñôÈáë 7,800 ÂÜÜÔºà8,580 ÂÜÜ Á®éËæºÔºâ\r\nÔºäÈ°ç‰ªò„Éó„É™„É≥„ÉàÊñôÈáë 8,550 ÂÜÜÔºà9,405 ÂÜÜ Á®éËæºÔºâ`,\r\n    productId: 9,\r\n  },\r\n  {\r\n    src: \"/option-images/print/6tsugiri_3.jpg\",\r\n    description: `ÂÖ≠„Å§Âàá„Çä„Éó„É™„É≥„Éà\r\nÔºä„Éó„É™„É≥„ÉàÊñôÈáë 4,800 ÂÜÜÔºà5,280 ÂÜÜ Á®éËæºÔºâ\r\nÔºäÁ¥ôÂè∞Á¥ô‰ªò„Éó„É™„É≥„ÉàÊñôÈáë 6,800 ÂÜÜÔºà7,480 ÂÜÜ Á®éËæºÔºâ`,\r\n    style: { width: \"170px\", height: \"auto\" },\r\n    productId: 10,\r\n  },\r\n];\r\n\r\n// -------------------- „ÅäÊ∞ó„Å´ÂÖ•„ÇäÁîªÂÉè --------------------\r\nonMounted(() => {\r\n  const stored = localStorage.getItem(\"favoriteImages\");\r\n  if (stored) {\r\n    try {\r\n      favoritesStore.favoriteImages = deserializeJson(stored);\r\n    } catch (e) {\r\n      console.error(\"Âæ©ÂÖÉÂ§±Êïó:\", e);\r\n    }\r\n  }\r\n});\r\nwatch(\r\n  () => favoritesStore.favoriteImages,\r\n  (val) => {\r\n    localStorage.setItem(\"favoriteImages\", serializeJson(val));\r\n  },\r\n  { deep: true }\r\n);\r\n\r\n// -------------------- Âçò‰æ°„Å®ÈáëÈ°çË®àÁÆó --------------------\r\nfunction calculatePrice(type?: string, quantity?: number): number {\r\n  const prices: Record<string, number> = {\r\n    Âõõ„Å§Âàá: 5800,\r\n    ÂÖ≠Âàá„Çä: 4800,\r\n    „Ç≠„É£„Éì„Éç: 3800,\r\n    ÊâãÊú≠: 3500,\r\n  };\r\n  if (!type || !quantity) return 0;\r\n  return prices[type] * quantity;\r\n}\r\n\r\n// ‚úÖ „Åì„Åì„Å´Ë≤º„Çä‰ªò„Åë\r\nfunction orderImage(img: FavoriteImage) {\r\n  if (!img.selectedType || !img.quantity || img.quantity < 1) {\r\n    alert(\"„Éó„É™„É≥„ÉàÁ®ÆÈ°û„Å®ÊûöÊï∞„ÇíÊ≠£„Åó„ÅèÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\");\r\n    return;\r\n  }\r\n\r\n  // Ê≥®ÊñáÂá¶ÁêÜÔºà‰ªäÂõû„ÅØ„É≠„Ç∞Âá∫ÂäõÔºâ\r\n  console.log(\"Ê≥®Êñá„Åï„Çå„ÅüÁîªÂÉè:\", img);\r\n}\r\n\r\n// -------------------- „ÅäÊ∞ó„Å´ÂÖ•„ÇäÂâäÈô§Âá¶ÁêÜ --------------------\r\nconst removeFavorite = (index: number) => {\r\n  favoritesStore.favoriteImages.splice(index, 1);\r\n};\r\n\r\n// -------------------- ËøΩÂä†„Ç™„Éó„Ç∑„Éß„É≥ --------------------\r\n// server/print-options.ts„Å∏----------\r\n\r\ntype AdditionalItem = {\r\n  name: string;\r\n  price: number;\r\n  image?: string;\r\n  description?: string;\r\n  selected: boolean;\r\n  quantity: number;\r\n};\r\n\r\n// ‚úÖ „ÉÅ„Çß„ÉÉ„ÇØÁä∂ÊÖã„Å®Êï∞ÈáèÂà∂Âæ°\r\nconst onSelectChange = (item: AdditionalItem) => {\r\n  if (item.selected && item.quantity === 0) {\r\n    item.quantity = 1;\r\n  } else if (!item.selected) {\r\n    item.quantity = 0;\r\n  }\r\n};\r\n\r\nconst increaseQuantity = (item: AdditionalItem) => {\r\n  item.quantity++;\r\n};\r\n\r\nconst decreaseQuantity = (item: AdditionalItem) => {\r\n  if (item.quantity > 1) {\r\n    item.quantity--;\r\n  }\r\n};\r\n\r\n// ‚úÖ ÈÅ∏Êäû„Åï„Çå„Åü„Ç¢„Ç§„ÉÜ„É†„ÅÆ„Åø„Å´„Éï„Ç£„É´„Çø„Éº\r\nconst selectedAdditionalItems = computed(() =>\r\n  additionalItems.value.filter((item) => item.selected && item.quantity > 0)\r\n);\r\n\r\n// ‚úÖ „Ç™„Éó„Ç∑„Éß„É≥ÂêàË®àÔºà‰ªªÊÑèÔºâ\r\nconst additionalTotal = computed(() =>\r\n  selectedAdditionalItems.value.reduce(\r\n    (sum, item) => sum + item.price * item.quantity,\r\n    0\r\n  )\r\n);\r\n\r\n// -------------------- „Ç´„Çπ„Çø„É†„Ç¢„Ç§„ÉÜ„É† --------------------\r\nconst newCustomItem = ref<CustomItem>({\r\n  name: \"\",\r\n  price: 0,\r\n  quantity: 1,\r\n  fileName: \"\",\r\n});\r\n\r\nconst addCustomItem = () => {\r\n  const item = newCustomItem.value;\r\n  if (\r\n    item.fileName &&\r\n    item.name.trim() !== \"\" &&\r\n    item.price > 0 &&\r\n    item.quantity > 0\r\n  ) {\r\n    customItems.value.push({ ...item });\r\n    newCustomItem.value = { name: \"\", price: 0, quantity: 1, fileName: \"\" };\r\n  } else {\r\n    alert(\"„Éï„Ç°„Ç§„É´Âêç„ÄÅÂêçÂâç„ÄÅ‰æ°Ê†º„ÄÅÊï∞Èáè„Çí„Åô„Åπ„Å¶ÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\");\r\n  }\r\n};\r\n\r\n// -------------------- Âç∞Âà∑„Ç™„Éó„Ç∑„Éß„É≥ÂèñÂæó --------------------\r\nconst printOptions = ref<PrintOption[]>([]);\r\n\r\n// „Éö„Éº„Ç∏Ë™≠„ÅøËæº„ÅøÊôÇ„Å´API„Åã„ÇâÂèñÂæó\r\nonMounted(async () => {\r\n  try {\r\n    const data = await $fetch<OptionItem[]>(\"/api/print-options\", {\r\n      params: { productId },\r\n    });\r\n\r\n    // quantity „ÇíÊòéÁ§∫ÁöÑ„Å´ËøΩÂä†ÔºàÂàùÊúüÂåñÔºâ\r\n    additionalItems.value = data.map((item) => ({\r\n      ...item,\r\n      quantity: 1,\r\n    }));\r\n  } catch (err) {\r\n    console.error(\"ËøΩÂä†„Ç™„Éó„Ç∑„Éß„É≥„ÅÆÂèñÂæó„Å´Â§±Êïó„Åó„Åæ„Åó„Åü:\", err);\r\n  }\r\n});\r\n\r\n// -------------------- ÂêàË®àÈáëÈ°çË®àÁÆó --------------------\r\nconst TAX_RATE = 0.1;\r\n\r\nconst totalPrice = computed(() => {\r\n  const favTotal = Array.isArray(favoritesStore.favoriteImages)\r\n    ? favoritesStore.favoriteImages.reduce(\r\n        (sum, img) => sum + calculatePrice(img.selectedType, img.quantity),\r\n        0\r\n      )\r\n    : 0;\r\n\r\n  const customTotal = (customItems.value ?? []).reduce(\r\n    (sum, item) => sum + item.price * item.quantity,\r\n    0\r\n  );\r\n\r\n  const optionTotal = (additionalItems.value ?? []).reduce(\r\n    (sum, item) =>\r\n      item.selected && item.quantity && item.price\r\n        ? sum + item.price * item.quantity\r\n        : sum,\r\n    0\r\n  );\r\n\r\n  return favTotal + customTotal + optionTotal;\r\n});\r\nconst totalPriceWithTax = computed(() =>\r\n  Math.round(totalPrice.value * (1 + TAX_RATE))\r\n);\r\n\r\n// -------------------- „É°„Éº„É´ÈÄÅ‰ø° --------------------\r\n\r\nconst { sendEmail: sendRealEmail } = useSendEmail();\r\nconst ADMIN_EMAILS = [\"info@syashin8.com\"];\r\n\r\nconst form = ref({\r\n  customerName: \"\",\r\n  email: \"\",\r\n  address: \"\",\r\n  comment: \"\",\r\n});\r\n\r\nconst success = ref(false);\r\nconst error = ref(\"\");\r\n\r\nconst emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n\r\nconst sendEmailWrapper = async (orderDetails: any) => {\r\n\r\n   console.log(\"üß™ orderDetails.images:\", orderDetails?.images);\r\n\r\n  const recipients = [\r\n    ...(orderDetails.address ? [orderDetails.address] : []),\r\n    ...ADMIN_EMAILS,\r\n  ];\r\n\r\n  const subject = \"„ÄêÊ≥®ÊñáÁ¢∫ÂÆö„Äë„ÅîÊ≥®Êñá„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åô\";\r\n\r\n  // ‚úÖ Ê≥®ÊñáÂïÜÂìÅ‰∏ÄË¶ß\r\nconst hasItems = Array.isArray(orderDetails.items) && orderDetails.items.length > 0;\r\nconst hasImages = Array.isArray(orderDetails.images) && orderDetails.images.length > 0;\r\n\r\nlet itemsHtml = \"\";\r\n\r\nif (hasItems) {\r\n  itemsHtml = `\r\n    <ul>\r\n      ${orderDetails.items.map((item: any) => {\r\n        return `\r\n          <li>\r\n            ${item.fileName ? `„Éï„Ç°„Ç§„É´Âêç: ${item.fileName}<br>` : \"\"}\r\n            ${item.name || \"\"} √ó ${item.quantity || 1}Ôºö¬•${(item.price || 0).toLocaleString()}\r\n          </li>\r\n        `;\r\n      }).join(\"\")}\r\n    </ul>\r\n  `;\r\n} else if (!hasImages) {\r\n  // items „ÇÇ images „ÇÇ„Å™„ÅÑ„Å®„Åç„Å†„ÅëÂá∫„Åô\r\n  itemsHtml = \"<p>ÁîªÂÉè„ÅÆÊ≥®Êñá„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ</p>\";\r\n}\r\n\r\n  // ‚úÖ ËøΩÂä†„Ç™„Éó„Ç∑„Éß„É≥\r\n  const additionalHtml = Array.isArray(orderDetails.additionalItems) && orderDetails.additionalItems.length\r\n    ? `\r\n    <p><strong>„ÄêËøΩÂä†„Ç™„Éó„Ç∑„Éß„É≥„Äë</strong></p>\r\n    <ul>\r\n      ${orderDetails.additionalItems.map((opt: any) => {\r\n        return `\r\n          <li>${opt.label} √ó ${opt.quantity}Ôºö¬•${(opt.price * opt.quantity).toLocaleString()}</li>\r\n        `;\r\n      }).join(\"\")}\r\n    </ul>\r\n  `\r\n    : \"\";\r\n\r\n  // ‚úÖ „Ç´„Çπ„Çø„É†„Ç¢„Ç§„ÉÜ„É†\r\n  const customHtml = Array.isArray(orderDetails.customItems) && orderDetails.customItems.length\r\n    ? `\r\n    <p><strong>„Äê„Ç´„Çπ„Çø„É†„Ç¢„Ç§„ÉÜ„É†„Äë</strong></p>\r\n    <ul>\r\n      ${orderDetails.customItems.map((item: any) => {\r\n        return `\r\n          <li>\r\n            „Éï„Ç°„Ç§„É´Âêç: ${item.fileName || \"Ôºà„Éï„Ç°„Ç§„É´Âêç‰∏çÊòéÔºâ\"}<br>\r\n            ${item.name || \"ÔºàÂêçÁß∞Êú™Ë®≠ÂÆöÔºâ\"} √ó ${item.quantity || 1}Ôºö¬•${((item.price || 0) * (item.quantity || 1)).toLocaleString()}\r\n          </li>\r\n        `;\r\n      }).join(\"\")}\r\n    </ul>\r\n  `\r\n    : \"\";\r\n\r\n  // ‚úÖ „ÅäÊ∞ó„Å´ÂÖ•„ÇäÁîªÂÉèÔºàÁîªÂÉèURL„ÅÆ‰∏ÄË¶ß„ÇíË°®Á§∫Ôºâ\r\n  const imageListHtml = Array.isArray(orderDetails.images) && orderDetails.images.length\r\n    ? `\r\n    <p><strong>„Äê„ÅäÊ∞ó„Å´ÂÖ•„ÇäÁîªÂÉè„Äë</strong></p>\r\n    <ul>\r\n      ${orderDetails.images.map((img: any, index: number) => {\r\n        return `<li>ÁîªÂÉè ${index + 1}: <a href=\"${img.url}\" target=\"_blank\">${img.filename || img.url}</a></li>`;\r\n      }).join(\"\")}\r\n    </ul>\r\n  `\r\n    : \"\";\r\n\r\n  // ‚úÖ ÂÇôËÄÉ\r\n  const commentHtml = orderDetails.comment\r\n    ? `<p>ÂÇôËÄÉ„ÄÄ„ÅäÂÜôÁúü„ÅÆË≤º„ÇäÈ†ÜÁ≠â:<br>${orderDetails.comment.replace(/\\n/g, \"<br>\")}</p>`\r\n    : \"\";\r\n\r\n  // ‚úÖ ÂêàË®àÈáëÈ°ç\r\n  const totalHtml = `<p>ÂêàË®àÔºàÁ®éËæºÔºâ: ¬•${orderDetails.totalWithTax.toLocaleString()}</p>`;\r\n\r\n  // ‚úÖ ÂÖ®‰Ωì HTML ÁµÑ„ÅøÁ´ã„Å¶\r\n  const html = `\r\n    <p>${orderDetails.customerName} Êßò„ÄÅ</p>\r\n    <p>‰ª•‰∏ã„ÅÆÂÜÖÂÆπ„Åß„ÅîÊ≥®Êñá„ÇíÊâø„Çä„Åæ„Åó„ÅüÔºö</p>\r\n    ${itemsHtml}\r\n    ${additionalHtml}\r\n    ${customHtml}\r\n    ${imageListHtml}\r\n    ${totalHtml}\r\n    ${commentHtml}\r\n    <p>„ÅîÂà©Áî®„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åó„Åü„ÄÇ</p>\r\n  `;\r\n\r\n  // ‚úÖ „É°„Éº„É´ÈÄÅ‰ø°\r\n  try {\r\n    await Promise.all(\r\n      recipients.map((to: string) =>\r\n        sendRealEmail({ to, subject, html })\r\n      )\r\n    );\r\n    return { success: true };\r\n  } catch (err: any) {\r\n    console.error(\"„É°„Éº„É´ÈÄÅ‰ø°„Ç®„É©„Éº:\", err);\r\n    if (err.response) {\r\n      console.error(\"Response data:\", err.response.data);\r\n      console.error(\"Response status:\", err.response.status);\r\n    }\r\n    return {\r\n      success: false,\r\n      message: \"„É°„Éº„É´ÈÄÅ‰ø°„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ\",\r\n    };\r\n  }\r\n};\r\n\r\n\r\n// -------------------- Ê≥®ÊñáÁ¢∫ÂÆö --------------------\r\nconst submitOrder = async () => {\r\n  if (isSubmitting.value) return;\r\n  isSubmitting.value = true;\r\n\r\n  if (\r\n    !form.value.customerName ||\r\n    !form.value.email ||\r\n    !emailRegex.test(form.value.email)\r\n  ) {\r\n    alert(\"„ÅäÂêçÂâç„Å®Ê≠£„Åó„ÅÑ„É°„Éº„É´„Ç¢„Éâ„É¨„Çπ„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\");\r\n    isSubmitting.value = false;\r\n    return;\r\n  }\r\n\r\n  const favoriteItems = favoritesStore.favoriteImages\r\n    .filter((item) => item.selectedType && item.quantity > 0)\r\n    .map((item) => ({\r\n      fileName: item.fileName,\r\n      name: item.selectedType,\r\n      quantity: item.quantity,\r\n      price: calculatePrice(item.selectedType, item.quantity),\r\n    }));\r\n\r\n  const additional = selectedAdditionalItems.value.map((item) => ({\r\n    id: item.id,\r\n    label: item.name,\r\n    quantity: item.quantity,\r\n    price: item.price,\r\n  }));\r\n\r\n  const customs = customItems.value.map((item) => ({\r\n    fileName: item.fileName || \"(„Éï„Ç°„Ç§„É´Âêç‰∏çÊòé)\",\r\n    name: item.name || \"(ÂêçÁß∞Êú™Ë®≠ÂÆö)\",\r\n    quantity: item.quantity,\r\n    price: item.price,\r\n  }));\r\n\r\n  const allItems = [...favoriteItems, ...additional, ...customs];\r\n  if (allItems.length === 0) {\r\n    alert(\"Ê≥®ÊñáÂÜÖÂÆπ„ÅåÁ©∫„Åß„Åô„ÄÇ\");\r\n    isSubmitting.value = false;\r\n    return;\r\n  }\r\n\r\nconst orderDetails = {\r\n  customerName: form.value.customerName,\r\n  address: form.value.email,\r\n  comment: form.value.comment,\r\n  images: favoritesStore.favoriteImages.map((img) => ({\r\n    filename: img.fileName,\r\n    url: img.url\r\n  })), // ‚úÖ ÂøÖË¶Å„Å™ÊÉÖÂ†±„ÅÆ„ÅøÊäΩÂá∫„Åó„Å¶ÈÄÅ„Çã\r\n  customItems: customs,\r\n  additionalItems: additional,\r\n  total: totalPrice.value,\r\n  totalWithTax: totalPriceWithTax.value,\r\n};\r\n\r\n// ‚úÖ „Åì„ÅÆ„É≠„Ç∞„ÇíËøΩÂä†„Åô„Çã„Åì„Å®„Åß„ÄÅÈÄÅ‰ø°Áõ¥Ââç„ÅÆÁîªÂÉèÊÉÖÂ†±„ÅåÊ≠£„Åó„ÅèÂÖ•„Å£„Å¶„ÅÑ„Çã„ÅãÁ¢∫Ë™ç„Åß„Åç„Åæ„Åô\r\nconsole.log(\"üß™ favoriteImagesÔºàÈÄÅ‰ø°ÂâçÔºâ:\", JSON.stringify(favoritesStore.favoriteImages, null, 2));\r\nconsole.log(\"üß™ orderDetails.images:\", JSON.stringify(orderDetails.images, null, 2));\r\n\r\n  const result = await sendEmailWrapper(orderDetails);\r\n\r\n  if (result.success) {\r\n    success.value = true;\r\n    error.value = \"\";\r\n    alert(\"„ÅîÊ≥®Êñá„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åó„Åü„ÄÇÁ¢∫Ë™ç„É°„Éº„É´„ÇíÈÄÅ‰ø°„Åó„Åæ„Åó„Åü„ÄÇ\");\r\n\r\n    // „Éï„Ç©„Éº„É†„É™„Çª„ÉÉ„Éà\r\n    favoritesStore.favoriteImages = [];\r\n    customItems.value = [];\r\n    additionalItems.value.forEach((item) => (item.selected = false));\r\n    form.value = {\r\n      customerName: \"\",\r\n      email: \"\",\r\n      address: \"\",\r\n      comment: \"\",\r\n    };\r\n  } else {\r\n    success.value = false;\r\n    error.value = result.message || \"„É°„Éº„É´ÈÄÅ‰ø°„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ\";\r\n    alert(\"„ÅîÊ≥®Êñá„ÅØÂèó„Åë‰ªò„Åë„Åæ„Åó„Åü„Åå„ÄÅÁ¢∫Ë™ç„É°„Éº„É´„ÅÆÈÄÅ‰ø°„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ\");\r\n  }\r\n\r\n  isSubmitting.value = false;\r\n};\r\n\r\n\r\n// -------------------- ÁÆ°ÁêÜËÄÖÊ©üËÉΩ --------------------\r\nconst isAdmin = ref(false);\r\nconst user = { email: \"info@syashin8.com\" };\r\nif (ADMIN_EMAILS.includes(user.email)) {\r\n  isAdmin.value = true;\r\n  console.log(\"ÁÆ°ÁêÜËÄÖ„É¢„Éº„Éâ\");\r\n}\r\nconst showAdminDashboard = () => {\r\n  console.log(\"„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„ÉâË°®Á§∫\");\r\n};\r\n\r\n// -------------------- Êàª„Çã --------------------\r\nconst goBack = () => router.go(-1);\r\n</script>\r\n\r\n<style scoped>\r\n/* „Éö„Éº„Ç∏„Éò„ÉÉ„ÉÄ„Éº */\r\n.page-header {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n}\r\n.back-button {\r\n  background-color: blue;\r\n  color: white;\r\n  border: none;\r\n  padding: 8px 16px;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n}\r\n.back-button:hover {\r\n  background-color: darkblue;\r\n}\r\n\r\n/* „ÅäÊ∞ó„Å´ÂÖ•„Çä„ÇÆ„É£„É©„É™„Éº„ÅÆ„Çπ„Çø„Ç§„É´ */\r\n\r\n.favorites-gallery {\r\n  padding: 20px;\r\n  margin-bottom: 30px;\r\n  background: #ffffff;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n}\r\n.favorites-gallery h3 {\r\n  margin-bottom: 10px;\r\n}\r\n\r\n/* ‚òÖ Á∏¶‰∏¶„Å≥„Å´Â§âÊõ¥ ‚òÖ */\r\n.favorites-list {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 16px;\r\n  justify-content: flex-start;\r\n}\r\n\r\n.favorite-item {\r\n  width: 200px;\r\n  padding: 10px;\r\n  border: 1px solid #eee;\r\n  border-radius: 4px;\r\n  background-color: #fafafa;\r\n  box-sizing: border-box;\r\n  text-align: center;\r\n\r\n  display: flex; /* Ê®™‰∏¶„Å≥„ÅÆ„Éá„Éï„Ç©„É´„Éà */\r\n  flex-direction: column; /* „Åì„Çå„ÅßÁ∏¶‰∏¶„Å≥„Å´„Åó„Åæ„Åô */\r\n  align-items: center; /* ‰∏≠Â§ÆÂØÑ„Åõ */\r\n  font-size: 14px;\r\n}\r\n\r\n.favorite-item img {\r\n  width: 100%;\r\n  max-width: 150px; /* ÊúÄÂ§ßÂπÖ150px„ÅßÂà∂Èôê */\r\n  height: auto; /* „Ç¢„Çπ„Éö„ÇØ„ÉàÊØî„ÇíÁ∂≠ÊåÅ„Åó„Å¶È´ò„Åï„ÇíËá™ÂãïË™øÊï¥ */\r\n  object-fit: contain; /* ÁîªÂÉè„ÅÆÂÖ®‰Ωì„ÇíË°®Á§∫Ôºà„Éà„É™„Éü„É≥„Ç∞„Åó„Å™„ÅÑÔºâ */\r\n  border: 1px solid #ccc;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.fav-image-name {\r\n  font-weight: bold;\r\n  margin-bottom: 6px;\r\n  max-width: 180px;\r\n  word-wrap: break-word;\r\n}\r\n\r\n.favorite-item select,\r\n.favorite-item input[type=\"number\"] {\r\n  width: 180px;\r\n  padding: 6px;\r\n  font-size: 14px;\r\n  margin-bottom: 6px;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.order-details {\r\n  background-color: #f7f7f7;\r\n  padding: 8px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  font-size: 13px;\r\n  max-width: 180px;\r\n  word-wrap: break-word;\r\n}\r\n\r\n/* ÂïÜÂìÅË©≥Á¥∞„Ç®„É™„Ç¢ÔºöÔºì„Ç´„É©„É†„É¨„Ç§„Ç¢„Ç¶„Éà */\r\n.product-page {\r\n  display: flex;\r\n  gap: 20px;\r\n  padding: 20px;\r\n}\r\n.left-column {\r\n  flex: 1;\r\n  max-width: 30%;\r\n  display: flex;\r\n  flex-direction: column; /* Á∏¶ÊñπÂêë„Å´‰∏¶„Åπ„Çã */\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n.left-column img {\r\n  max-width: 100%;\r\n  height: auto;\r\n  border: 1px solid #ccc;\r\n}\r\n.center-column {\r\n  flex: 1;\r\n  max-width: 40%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n}\r\n.product-title {\r\n  font-size: 2rem;\r\n  margin-bottom: 10px;\r\n}\r\n.product-description {\r\n  font-size: 1.2rem;\r\n  margin-bottom: 15px;\r\n}\r\n.product-price {\r\n  font-weight: bold;\r\n  font-size: 1.5rem;\r\n}\r\n\r\n/* Âè≥„Ç´„É©„É†ÔºöÂèóÊ≥®ÊòéÁ¥∞„Å®ÂèóÊ≥®„Éï„Ç©„Éº„É† */\r\n.right-column {\r\n  flex: 1;\r\n  max-width: 30%;\r\n  border-left: 1px solid #eee;\r\n  padding-left: 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n}\r\n.right-column h2 {\r\n  margin-bottom: 10px;\r\n}\r\n.order-summary table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  margin-bottom: 10px;\r\n}\r\n.order-summary table th,\r\n.order-summary table td {\r\n  border: 1px solid #ddd;\r\n  padding: 6px;\r\n  text-align: center;\r\n}\r\n.total {\r\n  text-align: right;\r\n  font-weight: bold;\r\n  margin-bottom: 20px;\r\n}\r\n.order-form form > div {\r\n  margin-bottom: 10px;\r\n}\r\n.order-form label {\r\n  display: block;\r\n  margin-bottom: 5px;\r\n}\r\n.order-form input,\r\n.order-form textarea {\r\n  width: 100%;\r\n  padding: 4px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n}\r\n.order-form button {\r\n  background-color: #f0c14b;\r\n  border: 1px solid #a88734;\r\n  padding: 8px 12px;\r\n  cursor: pointer;\r\n}\r\n.order-form button:hover {\r\n  background-color: #e2b33b;\r\n}\r\n\r\n/* ÂïÜÂìÅ„ÅåË¶ã„Å§„Åã„Çâ„Å™„ÅÑÂ†¥Âêà */\r\n.not-found {\r\n  padding: 20px;\r\n  text-align: center;\r\n  font-size: 1.5rem;\r\n}\r\n/* ÂïÜÂìÅË™¨Êòé */\r\n.desc-line {\r\n  line-height: 0.9; /* Â•Ω„Åø„ÅÆË°å„ÅÆÈ´ò„Åï„Å´Ë™øÊï¥„Åó„Å¶„Åè„Å†„Åï„ÅÑ */\r\n  margin: 0 0 8px; /* Ë°åÈñì„ÇíÈõ¢„Åó„Åü„ÅÑÂ†¥Âêà„ÅÆ‰ΩôÁôΩË™øÊï¥ */\r\n}\r\n/* Ê∂àË≤ªÁ®é */\r\n.total-with-tax {\r\n  font-weight: bold;\r\n  margin-top: 10px;\r\n  color: #d35400; /* „Ç™„É¨„É≥„Ç∏Á≥ª„Å™„Å©Âº∑Ë™øËâ≤„Å´ */\r\n}\r\n\r\n/* „É°„Éº„É´ÈÄÅ‰ø°„ÉÜ„Çπ„Éà„Éï„Ç©„Éº„É† */\r\n.manual-mail-form {\r\n  margin-top: 30px;\r\n  padding: 20px;\r\n  border-top: 1px solid #ddd;\r\n}\r\n.manual-mail-form form {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n}\r\n.manual-mail-form input,\r\n.manual-mail-form textarea {\r\n  width: 100%;\r\n  padding: 8px;\r\n}\r\n.manual-mail-form button {\r\n  background-color: #007bff33;\r\n  color: white;\r\n  padding: 8px 16px;\r\n  border: none;\r\n  cursor: pointer;\r\n}\r\n.manual-mail-form button[disabled] {\r\n  background-color: #aaa;\r\n  cursor: not-allowed;\r\n}\r\n/* tailwind.css */\r\nhtml,\r\nbody,\r\n#__nuxt {\r\n  height: 100%;\r\n}\r\n</style>\r\n"],"names":["_withAsyncContext","error","_unref","_ssrInterpolate","_ssrRenderList","_ssrIncludeBooleanAttr","_ssrLooseContain","_ssrLooseEqual","_ssrRenderAttr","formTouched"],"mappings":"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"}