{"file":"_id_-BTgMszRt.js","mappings":";;;;;;;;;;;;;;;;;;;;;AAAO,SAAS,cAAc,MAAmB;AAC/C,SAAO,KAAK,UAAU,IAAI;AAC5B;;;;;ACqBA,QAAI,QAAQ,IAAI,aAAa,eAAe;AAC1C,cAAQ,IAAI,uBAAuB,cAAc,kBAAkB,CAAC;AAAA,IACtE;AAGA,UAAM,QAAQ,SAAA;AACd,UAAM,SAAS,UAAA;AACf,UAAM,iBAAiB,kBAAA;AAGvB,UAAM,UAAU,MAAM,OAAO;AAC7B,UAAM,KAAK,OAAO,OAAO;AAEzB,QAAI,MAAM,EAAE,GAAG;AACb,cAAQ,MAAM,UAAU,OAAO;AAC/B,aAAO,QAAQ,YAAY;AAAA,IAC7B,OAAO;AACL,UAAI,QAAQ,IAAI,aAAa,eAAe;AAC1C,gBAAQ,IAAI,iBAAiB,MAAM,MAAM;AACzC,gBAAQ,IAAI,gBAAgB,EAAE;AAAA,MAChC;AAAA,IACF;AAGA,UAAM,gBAAgB,SAAS,MAAM;AACnC,aAAO,MAAM,KAAK,KAAK,eAAe,eAAe,SACjD,eAAe,eAAe,EAAE,IAChC;AAAA,IACN,CAAC;AACD,YAAQ,IAAI,mBAAmB,cAAc,KAAK;;;;UAjDnC,cAAA,OAAa;wDAChB,OAAK,cAAA,MAAc,GAAG,oEACfA,eAAA,cAAA,MAAc,QAAQ;AAEzB,cAAAC,mBAAA,qBAAA,EAAA,IAAG,oBAAgB;AAAA,2BAA7B,CAA2C,GAAAC,QAAAC,UAAA,aAAA;;;;;gCAAb,IAAE;AAAA,cAAA;AAAA;;;;;;;AAItB,cAAAF,mBAAA,qBAAA,EAAA,IAAG,oBAAgB;AAAA,2BAA7B,CAA2C,GAAAC,QAAAC,UAAA,aAAA;;;;;gCAAb,IAAE;AAAA,cAAA;AAAA;;;;;;;;;;;;;;;;;","names":["_ssrInterpolate","_ssrRenderComponent","_push","_parent"],"sources":["../../../../src/utils/jsonUtils.ts","../../../../pages/favorites/details/[id].vue"],"sourcesContent":["export function serializeJson(data: any): string {\r\n  return JSON.stringify(data);\r\n}\r\n\r\nexport function deserializeJson(jsonString: string): any {\r\n  try {\r\n    return JSON.parse(jsonString);\r\n  } catch (error) {\r\n    console.error('JSON デシリアライズエラー:', error);\r\n    return null; // または適切なデフォルト値を返す\r\n  }\r\n}","<template>\r\n  <div>\r\n    <h2>お気に入り画像の詳細</h2>\r\n    <div v-if=\"selectedImage\">\r\n      <img :src=\"selectedImage.url\" alt=\"Favorite Image\" />\r\n      <p>ファイル名: {{ selectedImage.fileName }}</p>\r\n      <button @click=\"removeFavorite\">お気に入りから削除</button>\r\n      <NuxtLink to=\"/favorites/all\">戻る</NuxtLink>\r\n    </div>\r\n    <div v-else>\r\n      <p>画像が見つかりません</p>\r\n      <NuxtLink to=\"/favorites/all\">戻る</NuxtLink>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { computed } from \"vue\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nimport { useFavoritesStore } from \"@/stores/favorites\";\r\nimport { serializeJson } from \"@/utils/jsonUtils\";\r\n\r\n// デバッグ（開発環境のみ）\r\nif (process.env.NODE_ENV === \"development\") {\r\n  console.log(\"serializeJson test:\", serializeJson('{\"key\": \"value\"}'));\r\n}\r\n\r\n// ストアとルーター\r\nconst route = useRoute();\r\nconst router = useRouter();\r\nconst favoritesStore = useFavoritesStore();\r\n\r\n// ルートパラメータからID取得\r\nconst idParam = route.params.id;\r\nconst id = Number(idParam);\r\n\r\nif (isNaN(id)) {\r\n  console.error(\"無効なID:\", idParam);\r\n  router.replace(\"/not-found\"); // 例：404 ページへ移動\r\n} else {\r\n  if (process.env.NODE_ENV === \"development\") {\r\n    console.log(\"Route params:\", route.params);\r\n    console.log(\"Received ID:\", id);\r\n  }\r\n}\r\n\r\n// お気に入り画像を computed でリアクティブに取得\r\nconst selectedImage = computed(() => {\r\n  return id >= 0 && id < favoritesStore.favoriteImages.length\r\n    ? favoritesStore.favoriteImages[id]\r\n    : null;\r\n});\r\nconsole.log(\"Selected Image:\", selectedImage.value);\r\n\r\n// 削除処理\r\nconst removeFavorite = () => {\r\n  if (selectedImage.value) {\r\n    favoritesStore.removeFavorite(id);\r\n    router.push(\"/favorites/all\");\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nimg {\r\n  max-width: 300px;\r\n  height: auto;\r\n  display: block;\r\n  margin-bottom: 20px;\r\n}\r\nbutton {\r\n  background-color: #ff9800;\r\n  color: #fff;\r\n  padding: 10px 20px;\r\n  border: none;\r\n  cursor: pointer;\r\n}\r\nbutton:hover {\r\n  background-color: #e68900;\r\n}\r\n</style>\r\n"],"version":3}